<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.springboot.project.dao.muListDAO">
	<select id="mu_listDao" resultType="com.springboot.project.dto.muListDTO">
		select * from mu_list order by mu_no desc
	</select>
	<select id="mu_viewDao" resultType="com.springboot.project.dto.muListDTO">
		select * from mu_list where mu_no=#{param1}
	</select>
	<select id="selectLikedMuList" resultType="com.springboot.project.dto.muListDTO">
    SELECT 
    	m.mu_no,
        m.mu_title,
        m.mu_place,
        m.mu_start,
        m.mu_end,
        m.mu_pupload
    FROM mu_list m
    INNER JOIN m_like l
        ON m.mu_no = l.mu_no
    WHERE l.m_no = #{m_no}
    ORDER BY l.l_no DESC
</select>
	<insert id="mu_writeDao">
		insert into mu_list
		 values(mu_list_seq.nextval,#{mu_title},#{mu_place},#{mu_addr},#{mu_start},#{mu_end},#{mu_time},#{mu_age},#{vip_price},#{r_price},#{s_price},#{a_price},#{mu_pupload})
	</insert>
	<update id="mu_updateDao">
		update mu_list
		 set mu_title=#{mu_title},mu_place=#{mu_place},mu_addr=#{mu_addr},mu_start=#{mu_start},mu_end=#{mu_end},mu_time=#{mu_time},mu_age=#{mu_age},vip_price=#{vip_price},r_price=#{r_price},s_price=#{s_price},a_price=#{a_price},mu_pupload=#{mu_pupload} where mu_no=#{mu_no}
	</update>
	<delete id="mu_deleteDao">
		delete from mu_list where mu_no=#{param1}
	</delete>
</mapper>